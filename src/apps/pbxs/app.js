define("apps/pbxs/app",["require","jquery","lodash","monster"],function(t){var n=t("jquery"),e=t("lodash"),a=t("monster");return{name:"pbxs",css:["app"],i18n:{"en-US":{customCss:!1},"fr-FR":{customCss:!1},"ru-RU":{customCss:!1},"es-ES":{customCss:!1}},requests:{},subscribe:{"pbxsManager.activate":"_render","pbxsManager.edit":"editServer"},load:function(t){var n=this;n.initApp(function(){t&&t(n)})},initApp:function(t){var n=this;a.pub("auth.initApp",{app:n,callback:t})},render:function(t){this._render(t)},_render:function(t){var l=this,i=n(l.getTemplate({name:"pbxsManager"})),s=e.isEmpty(t)?n("#monster_content"):t;s.empty().append(i),l.renderList(-1,s,function(t){l.refreshUnassignedList(function(){l.bindEvents(i),0===t.length?a.pub("pbxsManager.edit",{}):t.length>=1&&(a.pub("pbxsManager.edit",{id:0}),i.find('.pbx-wrapper[data-id="0"]').addClass("selected"))})}),i.find("#pbxs_manager_listpanel").addClass("pbx-fixed-hscroll"),i.find("#unassigned_numbers_wrapper").addClass("unassigned-number-fixed-vscroll")},editServer:function(t){var e=this;a.parallel({realm:function(t){e.callApi({resource:"account.get",data:{accountId:e.accountId},success:function(n,e){t(null,n.data.realm)}})},account:function(t){e.getAccount(function(n){t(null,n)})},numbers:function(t){e.listAllNumbers(function(n){t(null,n)})}},function(l,i){var s=t.parent||n("#monster_content"),r=t.target||s.find("#pbxs_manager_view"),o=t.callbacks||{},c={saveSuccess:o.saveSuccess||function(a){var l=0===t.id||t.id?t.id:a.data.servers.length-1;e.renderList(l,s,function(){var t=n.extend(!0,{},u),i=n.extend(!0,t,a.data.servers[l]);i.extra.id=l,e.renderPbxsManager(a,i,r,c)},a.data.servers)},saveError:o.saveError,deleteSuccess:o.deleteSuccess||function(){r.empty(),e.renderList()},deleteError:o.deleteError,afterRender:o.afterRender},u={auth:{auth_user:"user_"+a.util.randomString(8),auth_password:a.util.randomString(12),auth_method:"IP"},options:{e911_info:{}},cfg:{register_time:"360",opening_pings:!0,caller_id_header:"p-asserted",supported_codecs:"g722",signaling_type:"rfc_2833",allow_refer:!0,use_t38:!0},extra:{support_email:a.config.support_email||"support@2600hz.com",pbx_help_link:a.config.pbx_help_link||"https://2600hz.atlassian.net/wiki/display/docs/Trunking.io",pbx_help_configuration_link:a.config.pbx_help_configuration_link||"https://2600hz.atlassian.net/wiki/display/docs/Trunking_config.io",configure:"manually",realm:i.realm,id:t.id||(0===t.id?0:"new")}};i.account.data.servers&&n.each(i.account.data.servers,function(t,e){n.each(e.DIDs,function(n){if(n in i.numbers.data.numbers){var e=i.numbers.data.numbers[n];i.account.data.servers[t].DIDs[n].features=e.features,i.account.data.servers[t].DIDs[n].features_available=e.features_available}})}),"object"!=typeof t||!t.id&&0!==t.id?e.renderEndpoint(i.accounts,u,r,c,s):e.renderPbxsManager(i.account,n.extend(!0,u,i.account.data.servers[t.id]),r,c)})},listAvailablePbxs:function(){return["allworks","altigen","asterisk","avaya","bluebox","cisco","digium","epygi","freepbx","freeswitch","mitel","objectworld","other","pingtel","responsepoint","samsung","shoretel","sutus","talkswitch","threecom","taridium"]},listAllNumbers:function(t,n){var e=this;e.callApi({resource:"numbers.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(n,e){"function"==typeof t&&t(n,e)},error:function(t,e){"function"==typeof n&&n(t,e)}})},listCallflows:function(t,n){var e=this;e.callApi({resource:"callflow.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(n,e){"function"==typeof t&&t(n,e)},error:function(t,e){"function"==typeof n&&n(t,e)}})},createAccount:function(t,n){var e=this;e.callApi({resource:"account.get",data:{accountId:e.accountId},success:function(a,l){var i={account:{credits:{prepay:"0.00"},trunks:0,inbound_trunks:0,auth_realm:a.data.realm},billing_account_id:e.accountId,DIDs_Unassigned:{},servers:[]};e.callApi({resource:"connectivity.create",data:{accountId:e.accountId,data:i},success:function(n,e){"function"==typeof t&&t(n,e)},error:function(t,e){"function"==typeof n&&n(t,e)}})}})},listAccounts:function(t,n){var e=this;e.callApi({resource:"connectivity.list",data:{accountId:e.accountId},success:function(n,e){"function"==typeof t&&t(n,e)},error:function(t,e){"function"==typeof n&&n(t,e)}})},getAccount:function(t,n){var e=this;e.callApi({resource:"connectivity.get",data:{accountId:e.accountId,connectivityId:e.connectivityId},success:function(n,e){"function"==typeof t&&t(n,e)},error:function(t,e){"function"==typeof n&&n(t,e)}})},listServers:function(t,n){var e=this,l=function(){e.getAccount(function(n,e){t(n.data.servers,e)})};e.listAccounts(function(t,n){t.data.length?(e.connectivityId=t.data[0],l()):e.createAccount(function(t){e.listAccounts(function(t,n){e.connectivityId=t.data[0],l()})},function(t,n){var l=e.getTemplate({name:"!"+e.i18n.active().error_signup,data:{status:n}});a.ui.alert(l)})})},getNumber:function(t,n,e){var a=this;a.callApi({resource:"numbers.get",data:{accountId:a.accountId,phoneNumber:t},success:function(t,e){"function"==typeof n&&n(t)},error:function(t,n){"function"==typeof e&&e(t)}})},updateNumber:function(t,n,e,a){var l=this;l.callApi({resource:"numbers.update",data:{accountId:l.accountId,phoneNumber:t,data:n},success:function(t,n){"function"==typeof e&&e(t)},error:function(t,n){"function"==typeof a&&a(t)}})},createNumber:function(t,n,e){var a=this;a.callApi({resource:"numbers.create",data:{accountId:a.accountId,phoneNumber:t,data:{}},success:function(t,e){"function"==typeof n&&n(t,e)},error:function(t,n){"function"==typeof e&&e(t,n)}})},activateNumber:function(t,n,e){var a=this;a.callApi({resource:"numbers.activate",data:{accountId:a.accountId,phoneNumber:t,data:{}},success:function(t,e){"function"==typeof n&&n(t,e)},error:function(t,n){"function"==typeof e&&e(t,n)}})},deleteNumber:function(t,n,e){var a=this;a.callApi({resource:"numbers.delete",data:{accountId:a.accountId,phoneNumber:t},success:function(t,e){"function"==typeof n&&n(t,e)},error:function(t,n){"function"==typeof e&&e(t,n)}})},cleanPhoneNumberData:function(t){return t},cleanFormData:function(t){return""!==t.server_name&&"server_name"in t||(t.server_name="PBX "+t.extra.serverid),t.hasOwnProperty("extra")&&t.extra.hasOwnProperty("compatibilityMode")&&(t.options.media_handling=!0===t.extra.compatibilityMode?"process":"bypass"),delete t.extra,t},saveEndpoint:function(t,e,l,i){var s=this,r=t.extra.serverid,o=n.extend(!0,{},e.data);s.cleanFormData(t),t.server_name?(!r&&0!==r||"new"===r?(o.servers.push(n.extend(!0,{DIDs:{},options:{enabled:!0,inbound_format:"e.164",international:!1,caller_id:{},e911_info:{},failover:{}},permissions:{users:[]},monitor:{monitor_enabled:!1}},t)),r=o.servers.length-1):n.extend(!0,o.servers[r],t),s.cleanBeforeUpdate(o.servers[r],t),s.updateOldTrunkstore(o,l,i)):a.ui.alert("formatting_error")},cleanBeforeUpdate:function(t,n){"bypass"!==n.options.media_handling&&n.options.hasOwnProperty("codecs")&&0!==n.options.codecs.length||delete t.options.codecs,"IP"!==n.auth.auth_method?delete t.auth.ip:(delete t.auth.auth_password,delete t.auth.auth_user)},normalizeData:function(t){return n.each(t.servers,function(e,a){delete t.servers[e][""],n.each(a.DIDs,function(a,l){n.each(l,function(n,l){!1===l&&delete t.servers[e].DIDs[a][n]})})}),t},updateOldTrunkstore:function(t,n,e){var l=this;l.normalizeData(t),l.callApi({resource:"connectivity.update",data:{accountId:l.accountId,connectivityId:l.connectivityId,data:t},success:function(t,e){a.ui.toast({type:"success",message:l.i18n.active().changesSaved}),"function"==typeof n&&n(t,e)},error:function(t,n){"function"==typeof e&&e(t,n)}})},loadSpecificStep:function(t,e){var l=t.load_step;n(".wizard-top-bar",e).hide(),n(".wizard-content-step",e).hide(),n('.wizard-content-step[data-step="'+l+'"]',e).show(),n(".wizard-buttons button",e).hide(),n(".cancel",e).show(),n(".submit-btn",e).show(),n("#list_pbxs_navbar").hide(),n(".cancel",e).off().on("click",function(n){n.preventDefault(),a.pub("pbxsManager.edit",{id:t.extra.id||0})})},initializeWizard:function(t,e,l){var i,s=this,r=parseInt(n(".wizard-top-bar",t).attr("data-max_step"));n(".wizard-top-bar",t).attr("data-active_step",l||1),n(".wizard-content-step",t).hide(),n('.wizard-content-step[data-step="1"]',t).show(),1!==r?n(".submit-btn",t).hide():n(".next-step",t).hide(),n(".prev-step",t).hide(),n(".step",t).on("click",function(){var e=n(this).data("step");n(this).hasClass("completed")&&s.validate_step(n(".wizard-top-bar",t).attr("data-active_step"),t,function(){s.change_step(e,r,t)})}),n(".next-step",t).on("click",function(e){e.preventDefault(),i=parseInt(n(".wizard-top-bar",t).attr("data-active_step")),s.validate_step(i,t,function(){s.change_step(++i,r,t)})}),n(".prev-step",t).on("click",function(e){e.preventDefault(),i=parseInt(n(".wizard-top-bar",t).attr("data-active_step")),s.change_step(--i,r,t)}),n(".cancel",t).on("click",function(t){t.preventDefault(),a.pub("pbxsManager.activate")}),n(".submit-btn",t).on("click",function(a){a.preventDefault(),i=parseInt(n(".wizard-top-bar",t).attr("data-active_step")),s.validate_step(i,t,function(){"function"==typeof e&&e()})})},change_step:function(t,e,a){n(".step",a).removeClass("active"),n('.step[data-step="'+t+'"]',a).addClass("active");for(var l=t;l>=1;--l)n('.step[data-step="'+l+'"]',a).addClass("completed");n(".wizard-content-step",a).hide(),n('.wizard-content-step[data-step="'+t+'"]',a).show(),n(".cancel",a).hide(),n(".prev-step",a).show(),n(".next-step",a).show(),n(".submit-btn",a).hide(),t===e&&(n(".next-step",a).hide(),n(".submit-btn",a).show()),1===t&&(n(".prev-step",a).hide(),n(".cancel",a).show()),n(".wizard-top-bar",a).attr("data-active_step",t)},validate_step:function(t,e,l){var i=this,s=a.ui.valid(n("#endpoint")),t=parseInt(t),r=i.i18n.active().please_correct;a.ui.getFormData("endpoint");s&&(1===t&&0===n(".pbx-brand-list .pbx.selected",e).size()&&(r+="<br/>- "+i.i18n.active().no_pbx_selected,s=!1),!0===s?"function"==typeof l&&l():a.ui.alert(r))},renderEndpoint:function(t,e,l,i,s){e.server_name||(e.server_name=null);var r=this,o=function(){var t=a.ui.getFormData("endpoint");if(t.auth.auth_method=n('input[type="radio"][name="auth.auth_method"]:checked',d).val(),t.server_type=n(".pbx-brand-list .pbx.selected",d).data("pbx_name"),t.cfg=n.extend(!0,c,t.cfg),t.extra.compatibilityMode){var e=p.getSelectedItems();e.length&&(t.options.codecs=e)}r.getAccount(function(n){r.saveEndpoint(t,n,function(t){"function"==typeof i.saveSuccess&&i.saveSuccess(t)})})},c={},u=e,d=n(r.getTemplate({name:"endpoint",data:u}));a.ui.tooltips(d);var p=a.ui.codecSelector("audio",d.find("#compatibility_codec_selector"),e.options.codecs||[]);n.each(e.cfg,function(t,e){"object"==typeof e?n.each(e,function(e,a){n('button[data-value="'+a+'"]',n('.btn-group[data-type="'+t+'"]',d)).addClass("btn-primary")}):n('button[data-value="'+e+'"]',n('.btn-group[data-type="'+t+'"]',d)).addClass("btn-primary")}),r.initializeWizard(d,o,e.load_step),n(".static-ip-block",d).hide(),n('.static-ip-block[data-value="'+e.auth.auth_method+'"]',d).show(),d.find('[name="extra.compatibilityMode"]').on("change",function(){var t=d.find("#compatibility_codec_selector");n(this).is(":checked")?t.addClass("active"):t.removeClass("active")}),n(".btn-group .btn",d).on("click",function(t){t.preventDefault();var e=n(this).parent(".btn-group");"multi"===e.data("select")?(n(this).toggleClass("btn-primary"),c[e.data("type")]=[],n(".btn",e).each(function(t,a){n(a).hasClass("btn-primary")&&c[e.data("type")].push(n(a).data("value"))})):(n(this).hasClass("btn-primary")||(n(".btn",n(this).parent()).removeClass("btn-primary"),n(this).addClass("btn-primary")),c[e.data("type")]=n(this).data("value"))}),n("#submit_settings",d).on("click",function(t){t.preventDefault(),o()}),n('input[type="radio"][name="auth.auth_method"]',d).on("click",function(){n(".static-ip-block",d).hide(),n('.static-ip-block[data-value="'+n(this).val()+'"]',d).slideDown()}),n(".pbx-brand-list .pbx",d).each(function(){if(n(this).data("pbx_name")===e.server_type)return n(this).addClass("selected"),n(".pbx-brand-list .pbx:not(.selected)",d).css("opacity","0.2"),!1}),e.server_type&&0===n(".pbx-brand-list .pbx.selected",d).size()&&(n(".pbx-brand-list .pbx.other",d).addClass("selected"),n(".pbx-brand-list .pbx:not(.selected)",d).css("opacity","0.2")),e.server_type||n(".info_pbx",d).hide(),n(".pbx-brand-list .pbx",d).click(function(){n(".pbx-brand-list .pbx",d).removeClass("selected").css("opacity","0.2"),n(this).addClass("selected"),n(".selected-pbx",d).html(n(".pbx-brand-list .selected",d).data("pbx_name")),n(".info_pbx",d).slideDown()}),e.load_step&&e.load_step>0?r.loadSpecificStep(e,d):n("#list_pbxs_navbar",s).hide(),a.ui.protectField(d.find("#auth_password"),d),a.ui.validate(d.find("#endpoint"),{rules:{}}),l.empty().append(d)},refreshListNumbers:function(t,l){var i=l||n("#pbx_connector_container"),s=this,r=i.find("#numbers_wrapper");!function(){i.find(".number-wrapper").show(),i.find(".search-query").val("")}(),r.empty().show();var o=[];e.each(t,function(t,n){t.phoneNumber=n,o.push(t)}),o=e.sortBy(o,"phoneNumber"),n.isEmptyObject(t)?r.append(n(s.getTemplate({name:"noNumbers"}))):(r.append(n(s.getTemplate({name:"listNumbers",data:{DIDs:o}}))),e.each(o,function(t){var n=r.find('[data-phone_number="'+t.phoneNumber+'"]'),e={target:n.find(".number-options"),numberData:t,afterUpdate:function(t){a.ui.paintNumberFeaturesIcon(t,n.find(".features"))}};a.pub("common.numberFeaturesMenu.render",e)})),n("#count_phones",i).html(o.length),n("#trigger_links",i).hide()},renderPbxsManager:function(t,l,i,s){var r=this,o=l.extra.id,c=l.server_type?l.server_type.replace(".","").toLowerCase():"other";e.includes(r.listAvailablePbxs(),c)||(c="other"),l.img_link=c,l.servers_list=[],l.hidePort=!!a.config.whitelabel.hasOwnProperty("hide_port")&&a.config.whitelabel.hide_port,l.hideBuyNumbers=!!a.config.whitelabel.hasOwnProperty("hideBuyNumbers")&&a.config.whitelabel.hideBuyNumbers,n.each(t.data.servers,function(t,n){if(t!==o){var a=n.server_type?n.server_type.replace(".","").toLowerCase():"other";e.includes(r.listAvailablePbxs(),a)||(a="other"),l.servers_list.push({index:t,server_name:n.server_name,img_link:a})}});var u=n(r.getTemplate({name:"endpointNumbers",data:l})),d=function(t){r.refreshListNumbers(t,u)};r.refreshListNumbers(l.DIDs,u),n("#list_pbxs_navbar").show();var p=u.find("#numbers_wrapper");setTimeout(function(){u.find(".search-query").focus()}),u.find(".search-query").on("keyup",function(){var t=n(this),e=p.find(".number-wrapper"),a=n.trim(t.val().toLowerCase());a?n.each(e,function(t,e){n(this).data().search.indexOf(a)<0?n(e).hide():n(e).show()}):e.show()}),u.on("click",".number-wrapper",function(t){if(n(t.target).closest(".number-options").size()<1){var e=n(this);!function(t,n){var e=t.find('input[type="checkbox"]'),a=e.prop("checked");n&&e.prop("checked",!a),t.toggleClass("selected")}(e,!n(t.target).is("input:checkbox"));var a=u.find("#trigger_links");u.find(".number-wrapper.selected").size()>0?a.show("fast"):a.hide()}}),u.find("#delete_pbx").on("click",function(){a.ui.confirm(r.i18n.active().delete_pbx_confirmation,function(){r.getAccount(function(t){t.data.servers.splice(l.extra.id,1),r.updateOldTrunkstore(t.data,s.deleteSuccess)})})}),u.find(".settings-pbx-link").on("click",function(){l.load_step=parseInt(n(this).data("step")),r.renderEndpoint(t,l,i,s,u)}),u.find(".buy-numbers-link").on("click",function(t){t.preventDefault(),a.pub("common.buyNumbers",{searchType:n(this).data("type"),callbacks:{success:function(t){r.getAccount(function(n){e.each(t,function(t,e){n.data.servers[o].DIDs[e]={failover:!1,cnam:!1,e911:!1}}),r.updateOldTrunkstore(n.data,function(t){r.renderList(o,void 0,void 0,t.data.servers),r.listNumbersByPbx(o,d)})})}}})}),u.find(".pbx-dropdown:not(.empty)").on("click",function(t){t.preventDefault();var e=[];if(u.find(".number-wrapper.selected").each(function(){e.push(n(this).data("phone_number"))}),e.length>0){var l=n(this).data("index");r.getAccount(function(t){var i=t.data.servers[l].server_name,s=r.getTemplate({name:"!"+r.i18n.active().confirm_move,data:{serverName:i}});a.ui.confirm(s,function(){n.each(e,function(n,e){t.data.servers[l].DIDs[e]=t.data.servers[o].DIDs[e],delete t.data.servers[o].DIDs[e]}),r.updateOldTrunkstore(t.data,function(t){r.listNumbersByPbx(o,d,t.data),r.renderList(o)})})})}else a.ui.alert(r.i18n.active().no_number_selected)}),u.find("#port_numbers").on("click",function(t){t.preventDefault(),a.pub("common.portWizard.render",{accountId:r.accountId,callbacks:{}})}),u.find("#remove_numbers").on("click",function(){var t=u.find(".number-wrapper.selected");t.size()>0?a.ui.confirm(r.i18n.active().remove_number_confirmation,function(){var e=[];t.each(function(){e.push(n(this).data("phone_number"))}),r.getAccount(function(t){n.each(e,function(n,e){e in t.data.servers[o].DIDs&&delete t.data.servers[o].DIDs[e]}),r.updateOldTrunkstore(t.data,function(t){r.refreshUnassignedList(function(){r.listNumbersByPbx(o,d,t.data),r.renderList(o,void 0,void 0,t.data.servers)})},function(){r.listNumbersByPbx(o,d)})})},function(){}):a.ui.alert(r.i18n.active().no_number_selected)}),(i||n("#monster_content")).empty().append(u)},refreshUnassignedList:function(t){var a=this;a.listAvailableNumbers(function(l){l=e.sortBy(l,"phoneNumber");var i={unassignedNumbers:l};n("#unassigned_numbers_wrapper").empty().append(n(a.getTemplate({name:"pbxsUnassignedNumbers",data:i}))),n("#unassigned_numbers_count").empty().html(l.length),"function"==typeof t&&t()})},bindEvents:function(t){var e,l=this;a.ui.tooltips(t),t.find("#unassigned_select_all").on("click",function(){var e=n(this),a=t.find(".unassigned-select-all-label"),i=e.hasClass("active"),s=t.find('#unassigned_numbers .unassigned-number input[type="checkbox"]');t.find(".unassigned-select-all-icon").toggleClass("fa-square-o fa-check-square-o"),e.toggleClass("active"),i?(a.text(l.i18n.active().select_all),s.parent().removeClass("selected")):(a.text(l.i18n.active().unselect_all),s.parent().addClass("selected")),s.prop("checked",!i)}),t.find(".link-box.assign").on("click",function(){var i=[];t.find("#unassigned_numbers .unassigned-number.selected").each(function(t,e){n(e).data("phone_number")&&i.push(n(this).data("phone_number"))}),e=parseInt(t.find("#pbx_connector_container").data("id")),e>=0?l.getAccount(function(a){n.each(i,function(t,n){a.data.servers[e].DIDs[n]={}}),l.updateOldTrunkstore(a.data,function(n){l.refreshUnassignedList(function(){l.listNumbersByPbx(e,function(a){l.refreshListNumbers(a,t),l.renderList(e,void 0,void 0,n.data.servers)},n.data)})})}):a.ui.alert(l.i18n.active().no_pbx_selected)}),t.find("#unassigned_numbers_header").on("click",function(){var e=n(this),a=t.find("#unassigned_numbers .content");e.hasClass("open")?(e.removeClass("open"),a.hide()):(e.addClass("open"),a.show())}),t.on("click",".unassigned-number",function(e){var a=t.find("#unassigned_select_all"),i=t.find(".unassigned-select-all-label"),s=t.find(".unassigned-select-all-icon"),r=n(this);if(r.toggleClass("selected"),t.find(".unassigned-number.selected").length!==t.find(".unassigned-number").length||a.hasClass("active")?a.hasClass("active")&&(a.removeClass("active"),s.toggleClass("fa-check-square-o fa-square-o"),i.text(l.i18n.active().select_all)):(a.addClass("active"),s.toggleClass("fa-square-o fa-check-square-o"),i.text(l.i18n.active().unselect_all)),!n(e.target).is("input:checkbox")){var o=r.find('input[type="checkbox"]'),c=o.prop("checked");o.prop("checked",!c)}}),t.on("click","#pbxs_manager_listpanel .pbx-wrapper",function(){n("#pbxs_manager_listpanel .pbx-wrapper",t).removeClass("selected"),e=n(this).data("id"),a.pub("pbxsManager.edit",{id:e}),n(this).addClass("selected")}),t.find("#add_pbx").on("click",function(){a.pub("pbxsManager.edit",{})}),t.find(".link-box.delete").on("click",function(){var e,i=n(".unassigned-number.selected",t),s=i.size(),r=function(){0===--s&&l.refreshUnassignedList()};s>0?a.ui.confirm(l.i18n.active().delete_numbers_confirmation,function(){i.each(function(){(e=n(this).data("phone_number"))&&l.deleteNumber(e,function(){r()},function(){r()})})},function(){}):a.ui.alert(l.i18n.active().no_number_selected)}),t.find("#unassigned_numbers .search-query").on("keyup",function(){var e=n(this),a=n("#unassigned_numbers .content .unassigned-number",t),l=n.trim(e.val().toLowerCase().replace(/[^0-9]/g,"")),i=[],s={};n.each(a,function(){var t=n(this).data(),e=t.phone_number;s[e]=n(this)}),n("#empty_search",t).hide(),l?(a.hide(),n.each(s,function(t,n){t.indexOf(l)>-1&&i.push(n)}),i.length>0?n.each(i,function(t,e){n(e).show()}):n("#empty_search",t).show()):a.show()})},renderList:function(t,a,l,i){var s=this,r=l,o=a||n("#monster_content"),c=t||0,u=function(t){n("#list_pbxs_navbar",o).show(),n("#unassigned_numbers",o).show();var a={numbers:function(t){var e=[];if(t.length>0){var a=0;n.each(t,function(t,l){var i=0;n.each(l.DIDs,function(t){i++}),e.push({id:a,name:l.server_name||"(no name)",count:i}),a++})}return e}(t)};n("#list_pbxs_navbar #pbxs_manager_listpanel",o).empty().append(n(s.getTemplate({name:"pbxsListElement",data:a}))).show(),n("#list_pbxs_navbar #pbxs_manager_listpanel .pbx-wrapper[data-id="+c+"]",o).addClass("selected"),n.each(t,function(t,a){var l=a.server_type?a.server_type.replace(".","").toLowerCase():"other";e.includes(s.listAvailablePbxs(),l)||(l="other"),n('#pbxs_manager_listpanel .pbx-wrapper[data-id="'+t+'"] .img-wrapper',o).append('<img class="img_style" src="'+s.appPath+"/style/static/images/endpoints/"+l+'.png" height="49" width=72"/>')}),r&&r(t)};i?u(i):s.listServers(function(t,n){u(t)})},listNumbersByPbx:function(t,e,l){var i=this;(t||t>-1)&&a.parallel({list_numbers:function(t){i.listAllNumbers(function(n){t(null,n.data.numbers)})},account:function(t){l?t(null,l):i.getAccount(function(n){t(null,n.data)})}},function(a,l){var i={};n.each(l.account.servers[t].DIDs,function(t){t in l.list_numbers&&(i[t]=l.list_numbers[t])}),e&&e(i)})},listAvailableNumbers:function(t){var e=this;a.parallel({listNumbers:function(t){e.listAllNumbers(function(n){t(null,n.data)})}},function(e,a){var l=[];"numbers"in a.listNumbers&&n.each(a.listNumbers.numbers,function(t,n){n.used_by&&""!==n.used_by||l.push({phoneNumber:t})}),t&&t(l)})}}}),this.monster=this.monster||{},this.monster.cache=this.monster.cache||{},this.monster.cache.templates=this.monster.cache.templates||{},this.monster.cache.templates.pbxs=this.monster.cache.templates.pbxs||{},this.monster.cache.templates.pbxs._main=this.monster.cache.templates.pbxs._main||{},this.monster.cache.templates.pbxs._main.endpoint=Handlebars.template({1:function(t,n,e,a,l){return"checked"},3:function(t,n,e,a,l){var i,s=t.lambda,r=t.escapeExpression,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="e164">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"inboundFormat"):i)?o(i,"e164"):i,n))+'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="1npan">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"inboundFormat"):i)?o(i,"1npan"):i,n))+'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="npan">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"inboundFormat"):i)?o(i,"npan"):i,n))+'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="username">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"inboundFormat"):i)?o(i,"username"):i,n))+"</option>\n"},5:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" name="extra.compatibilityMode"'+(null!=(i=(s(e,"compare")||n&&s(n,"compare")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},null!=(i=null!=n?s(n,"options"):n)?s(i,"media_handling"):i,"===","process",{name:"compare",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l,loc:{start:{line:181,column:65},end:{line:181,column:196}}}))?i:"")+">\n"},6:function(t,n,e,a,l){var i,s=t.lambda,r=t.escapeExpression,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return' data-on="'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"enabled"):i,n))+'" data-off="'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"disabled"):i,n))+'" checked'},8:function(t,n,e,a,l){return" active"},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s,r,o=null!=n?n:t.nullContext||{},c=t.hooks.helperMissing,u=t.escapeExpression,d=t.lambda,p=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]},b='<div id="edit_server" class="wizard">\n\t<div class="row-fluid">\n\t\t<div class="wizard-top-bar blue-gradient-reverse" data-max_step="3" data-active_step="'+u((s=null!=(s=p(e,"load_step")||(null!=n?p(n,"load_step"):n))?s:c,"function"==typeof s?s.call(o,{name:"load_step",hash:{},data:l,loc:{start:{line:3,column:88},end:{line:3,column:101}}}):s))+'">\n\t\t\t<div class="steps-wrapper">\n\t\t\t\t<div class="step active" data-step="1">\n\t\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t\t<i class="fa fa-check-square-o"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="step-title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"pbx_brand"):i,n))+'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="step" data-step="2">\n\t\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t\t<i class="fa fa-hdd-o"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="step-title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"authentication"):i,n))+'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="step" data-step="3">\n\t\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t\t<i class="fa fa-cog"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="step-title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"config"):i,n))+'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="row-fluid">\n\t\t<form id="endpoint">\n\t\t\t<div class="wizard-content-wrapper">\n\t\t\t\t<div class="wizard-content">\n\t\t\t\t\t<div class="wizard-content-step pbx-selection" data-step="1">\n\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t<div class="content-centered">\n\t\t\t\t\t\t\t\t<h4>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"which_pbx"):i,n))+'</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="row-fluid content-centered">\n\t\t\t\t\t\t\t<div class="info_pbx">\n\t\t\t\t\t\t\t\t<div class="selected-pbx-block">\n\t\t\t\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"currently_selected"):i,n))+': <span class="selected-pbx">'+u((s=null!=(s=p(e,"server_type")||(null!=n?p(n,"server_type"):n))?s:c,"function"==typeof s?s.call(o,{name:"server_type",hash:{},data:l,loc:{start:{line:47,column:67},end:{line:47,column:82}}}):s))+'</span>\n\t\t\t\t\t\t\t\t\t<input type="text" placeholder="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"friendly_name"):i,n))+'" id="server_name" name="server_name" value="'+u((s=null!=(s=p(e,"server_name")||(null!=n?p(n,"server_name"):n))?s:c,"function"==typeof s?s.call(o,{name:"server_name",hash:{},data:l,loc:{start:{line:48,column:110},end:{line:48,column:125}}}):s))+'"></input>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="pbx-brand-list content-centered">\n\t\t\t\t\t\t\t\t<div class="pbx bluebox" data-pbx_name="blue.box">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx freeswitch" data-pbx_name="FreeSWITCH">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx threecom" data-pbx_name="threecom">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx allworks" data-pbx_name="allworks">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx altigen" data-pbx_name="AltiGen">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx asterisk" data-pbx_name="Asterisk">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx avaya" data-pbx_name="Avaya">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx cisco" data-pbx_name="Cisco">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx digium" data-pbx_name="digium">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx epygi" data-pbx_name="epygi">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx freepbx" data-pbx_name="FreePBX">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx mitel" data-pbx_name="Mitel">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx objectworld" data-pbx_name="ObjectWorld">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx pingtel" data-pbx_name="pingtel">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx responsepoint" data-pbx_name="Response Point">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx samsung" data-pbx_name="Samsung">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx shoretel" data-pbx_name="ShoreTel">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx sutus" data-pbx_name="Sutus">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx talkswitch" data-pbx_name="talkswitch">&nbsp;</div>\n\t\t\t\t\t\t\t\t<div class="pbx taridium" data-pbx_name="taridium">&nbsp;</div>\n\x3c!--\t\t\t\t\t\t\t\t<div class="pbx other" data-pbx_name="other">Other PBX</div>--\x3e\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t<div class="content-centered">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"pbx_missing_help"):i,n))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="wizard-content-step" data-step="2">\n\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t<div class="content-centered title-step">\n\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="top" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_static_ip"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"is_static_ip"):i,n))+'\n\t\t\t\t\t\t\t\t\t<div class="radio-wrapper">\n\t\t\t\t\t\t\t\t\t\t<label class="radio inline">\n\t\t\t\t\t\t\t\t\t\t\t<input type="radio" name="auth.auth_method" value="IP" '+(null!=(i=(p(e,"compare")||n&&p(n,"compare")||c).call(o,null!=(i=null!=n?p(n,"auth"):n)?p(i,"auth_method"):i,"===","IP",{name:"compare",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l,loc:{start:{line:90,column:66},end:{line:90,column:125}}}))?i:"")+">\n\t\t\t\t\t\t\t\t\t\t\t"+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"yes"):i,n))+'\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<label class="radio inline">\n\t\t\t\t\t\t\t\t\t\t\t<input type="radio" name="auth.auth_method" value="Password" '+(null!=(i=(p(e,"compare")||n&&p(n,"compare")||c).call(o,null!=(i=null!=n?p(n,"auth"):n)?p(i,"auth_method"):i,"===","Password",{name:"compare",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l,loc:{start:{line:94,column:72},end:{line:94,column:137}}
}))?i:"")+">\n\t\t\t\t\t\t\t\t\t\t\t"+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"no"):i,n))+'\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- Hidden fields --\x3e\n\t\t\t\t\t\t<input type="hidden" name="extra.serverid" value="'+u(d(null!=(i=null!=n?p(n,"extra"):n)?p(i,"id"):i,n))+'" />\n\n\t\t\t\t\t\t<div class="row-fluid content-centered">\n\t\t\t\t\t\t\t<div class="well">\n\t\t\t\t\t\t\t\t<div class="static-ip-block" data-value="IP">\n\t\t\t\t\t\t\t\t\t<div class="well-title">\n\t\t\t\t\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"great"):i,n))+'\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="field-name span5">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"what_is_your_ip"):i,n))+'</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span6 offset1"><input required type="text" id="auth_ip" pattern="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$" name="auth.ip" value="'+u(d(null!=(i=null!=n?p(n,"auth"):n)?p(i,"ip"):i,n))+'"></input></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="static-ip-block" data-value="Password">\n\t\t\t\t\t\t\t\t\t<div class="well-title">\n\t\t\t\t\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"np"):i,n))+'\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="field-name span5">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"username"):i,n))+'</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span6 offset1"><input required type="text" name="auth.auth_user" value="'+u(d(null!=(i=null!=n?p(n,"auth"):n)?p(i,"auth_user"):i,n))+'"></input></div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="field-name span5">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"password"):i,n))+'</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span6 offset1"><input id="auth_password" required type="password" name="auth.auth_password" value="'+u(d(null!=(i=null!=n?p(n,"auth"):n)?p(i,"auth_password"):i,n))+'"></input></div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="field-name span5">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"realm"):i,n))+'</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span6 offset1">'+u(d(null!=(i=null!=n?p(n,"extra"):n)?p(i,"realm"):i,n))+'</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- <div class="help-registration">\n\t\t\t\t\t\t\t\t<a href="'+u(d(null!=(i=null!=n?p(n,"extra"):n)?p(i,"pbx_help_link"):i,n))+'" target="_blank" class="help-registration-link">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"please_follow_link"):i,n))+"</a>"+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"please_follow_text"):i,n))+'\n\t\t\t\t\t\t\t</div> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="wizard-content-step" data-step="3">\n\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t<div class="content-centered title-step">\n\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"title_settings"):i,n))+'\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="row-fluid">\n\t\t\t\t\t\t\t<div class="testing-block" data-value="manually">\n\t\t\t\t\t\t\t\t<div class="well">\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=(i=null!=n?p(n,"i18n"):n)?p(i,"inboundFormat"):i)?p(i,"title"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<select class="input-medium" name="options.inbound_format">\n'+(null!=(i=(p(e,"select")||n&&p(n,"select")||c).call(o,null!=(i=null!=n?p(n,"options"):n)?p(i,"inbound_format"):i,{name:"select",hash:{},fn:t.program(3,l,0),inverse:t.noop,data:l,loc:{start:{line:164,column:12},end:{line:169,column:23}}}))?i:"")+'\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=(i=null!=n?p(n,"i18n"):n)?p(i,"compatibilityMode"):i)?p(i,"title"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=p(e,"monsterSwitch")||(null!=n?p(n,"monsterSwitch"):n))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(5,l,0),inverse:t.noop,data:l,loc:{start:{line:180,column:11},end:{line:182,column:29}}},i="function"==typeof s?s.call(o,r):s,p(e,"monsterSwitch")||(i=t.hooks.blockHelperMissing.call(n,i,r)),null!=i&&(b+=i),b+'\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="items-selector codec-selector clearfix'+(null!=(i=(p(e,"compare")||n&&p(n,"compare")||c).call(o,null!=(i=null!=n?p(n,"options"):n)?p(i,"media_handling"):i,"===","process",{name:"compare",hash:{},fn:t.program(8,l,0),inverse:t.noop,data:l,loc:{start:{line:187,column:59},end:{line:187,column:129}}}))?i:"")+'" id="compatibility_codec_selector"></div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- <div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"phone_calls"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_caller_id"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"caller_id_header"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="caller_id_header">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="p-asserted">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"p_asserted_option"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="remote-party-id">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"remote_party_id_option"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="from">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"from_option"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div> --\x3e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\x3c!-- <div class="help-box gray-box">\n\t\t\t\t\t\t\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;<i class="fa-info-sign2"></i>&nbsp;\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_manual_config"):i,n))+'</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"firewall"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span4 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_register_time"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"register_time"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<input required type="text" name="cfg.register_time" placeholder="360" pattern="^[0-9]+$" value="'+u(d(null!=(i=null!=n?p(n,"cfg"):n)?p(i,"register_time"):i,n))+'"></input>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span4">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_options_ping"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"opening_pings"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="opening_pings">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="true">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"yes"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="false">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"no"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"phone_calls"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_caller_id"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"caller_id_header"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="caller_id_header">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="p-asserted">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"p_asserted_option"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="remote-party-id">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"remote_party_id_option"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="from">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"from_option"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"hd_audio_video"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_supported_codecs"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"supported_codecs"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="supported_codecs" data-select="multi">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="g722">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"g722"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="g711">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"g711"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="g729">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"g729"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="gsm">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"gsm"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"dtmf"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_dtmf"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"signaling_type"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="signaling_type">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="rfc_2833">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"rfc_2833"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="in_band">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"in_band"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"call_transfer"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_call_transfer"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"allow_refer"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="allow_refer">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="true">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"yes"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="false">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"no"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="configure-line row-fluid">\n\t\t\t\t\t\t\t\t\t\t<div class="span3 title">\n\t\t\t\t\t\t\t\t\t\t\t<label>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"faxing"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="span8 offset1">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_faxing"):i,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<label for="register_time">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"use_t38"):i,n))+'</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group" data-type="use_t38">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="true">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"yes"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn" data-value="false">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"no"):i,n))+'</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div> --\x3e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\x3c!--\n\t\t\t\t\t\t\t<div class="help-registration">\n\t\t\t\t\t\t\t\t<a href="'+u(d(null!=(i=null!=n?p(n,"extra"):n)?p(i,"pbx_help_configuration_link"):i,n))+'" target="_blank" class="help-configuration-link">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"please_follow_link"):i,n))+"</a>"+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"help_configuration"):i,n))+'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t--\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="wizard-buttons">\n\t\t\t\t\t\t<button type="button" class="cancel monster-button-danger pull-left"><i class="fa fa-angle-double-left"></i>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"cancel"):i,n))+'</button>\n\t\t\t\t\t\t<button type="button" class="prev-step monster-button-primary pull-left"><i class="fa fa-angle-double-left"></i>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"previous"):i,n))+'</button>\n\t\t\t\t\t\t<button type="button" class="submit-btn monster-button-success"><i class="fa fa-check"></i>'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"submit"):i,n))+'</button>\n\t\t\t\t\t\t<button type="button" class="next-step monster-button-primary">'+u(d(null!=(i=null!=n?p(n,"i18n"):n)?p(i,"next"):i,n))+'<i class="fa fa-angle-double-right"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n'},useData:!0}),this.monster.cache.templates.pbxs._main.endpointNumbers=Handlebars.template({1:function(t,n,e,a,l){var i,s=null!=n?n:t.nullContext||{},r=t.hooks.helperMissing,o=t.escapeExpression,c=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t\t\t\t<li class="pbx-dropdown" data-index="'+o((i=null!=(i=c(e,"index")||(null!=n?c(n,"index"):n))?i:r,"function"==typeof i?i.call(s,{name:"index",hash:{},data:l,loc:{start:{line:32,column:44},end:{line:32,column:53}}}):i))+'"><a href="#"><img width="45" height="32" src="apps/pbxs/style/static/images/endpoints/'+o((i=null!=(i=c(e,"img_link")||(null!=n?c(n,"img_link"):n))?i:r,"function"==typeof i?i.call(s,{name:"img_link",hash:{},data:l,loc:{start:{line:32,column:140},end:{line:32,column:152}}}):i))+'.png" class="img_style"/>'+o((i=null!=(i=c(e,"server_name")||(null!=n?c(n,"server_name"):n))?i:r,"function"==typeof i?i.call(s,{name:"server_name",hash:{},data:l,loc:{start:{line:32,column:177},end:{line:32,column:192}}}):i))+"</a></li>\n"},3:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t\t\t\t<li class="pbx-dropdown empty">'+t.escapeExpression(t.lambda(null!=(i=null!=n?s(n,"i18n"):n)?s(i,"no_pbx"):i,n))+"</li>\n"},5:function(t,n,e,a,l){var i,s=t.lambda,r=t.escapeExpression,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t<ul class="nav buy-numbers-dropdown">\n\t\t\t\t<li class="dropdown">\n\t\t\t\t\t<a href="#" id="buy_numbers" class="dropdown-toggle buy-dropdown action-number" data-toggle="dropdown" data-target="#"><i class="fa fa-shopping-cart monster-green"></i><span class="action-text">'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"buy"):i,n))+'</span></a>\n\t\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t\t<li><a class="buy-numbers-link" data-type="regular" href="#">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"buyNumberLinks"):i)?o(i,"regular"):i,n))+'</a></li>\n\t\t\t\t\t\t<li><a class="buy-numbers-link" data-type="tollfree" href="#">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"buyNumberLinks"):i)?o(i,"tollfree"):i,n))+'</a></li>\n\t\t\t\t\t\t\x3c!-- <li><a class="buy-numbers-link" data-type="vanity" href="#">'+r(s(null!=(i=null!=(i=null!=n?o(n,"i18n"):n)?o(i,"buyNumberLinks"):i)?o(i,"vanity"):i,n))+"</a></li> --\x3e\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n"},7:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t<a href="#" id="port_numbers" class="action-number"><i class="fa fa-random monster-primary-color"></i><span class="action-text">'+t.escapeExpression(t.lambda(null!=(i=null!=n?s(n,"i18n"):n)?s(i,"portLabel"):i,n))+"</span></a>\n"},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s,r=t.lambda,o=t.escapeExpression,c=null!=n?n:t.nullContext||{},u=t.hooks.helperMissing,d=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div id="pbx_connector_container" data-id="'+o(r(null!=(i=null!=n?d(n,"extra"):n)?d(i,"id"):i,n))+'">\n\t<div class="box-top-blue pbx-title">\n\t\t<img width="80" height="56" src="apps/pbxs/style/static/images/endpoints/'+o((s=null!=(s=d(e,"img_link")||(null!=n?d(n,"img_link"):n))?s:u,"function"==typeof s?s.call(c,{name:"img_link",hash:{},data:l,loc:{start:{line:3,column:75},end:{line:3,column:87}}}):s))+'.png" class="img-style">'+o((s=null!=(s=d(e,"server_name")||(null!=n?d(n,"server_name"):n))?s:u,"function"==typeof s?s.call(c,{name:"server_name",hash:{},data:l,loc:{start:{line:3,column:111},end:{line:3,column:126}}}):s))+'\n\t\t<span class="pull-right">\n\t\t\t<div class="navbar">\n\t\t\t\t<ul class="nav pull-right">\n\t\t\t\t\t<li class="dropdown">\n\t\t\t\t\t\t<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-cog"></i></a>\n\t\t\t\t\t\t<ul class="dropdown-menu">\n\t\t\t\t\t\t\t<li class="settings-pbx-link" data-step="1"><a href="#"><i class="fa fa-edit"></i>'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"brand_selection"):i,n))+'</a></li>\n\t\t\t\t\t\t\t<li class="settings-pbx-link" data-step="2"><a href="#"><i class="fa fa-signal"></i>'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"authentication"):i,n))+'</a></li>\n\t\t\t\t\t\t\t<li class="settings-pbx-link" data-step="3"><a href="#"><i class="fa fa-wrench"></i>'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"testing"):i,n))+'</a></li>\n\t\t\t\t\t\t\t<li class="divider"></li>\n\t\t\t\t\t\t\t<li><a id="delete_pbx" href="#"><i class="fa fa-trash-o"></i>'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"delete_pbx"):i,n))+'</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</span>\n\t</div>\n\t<div id="actions_wrapper">\n\t\t<form class="form-inline">\n\t\t\t<label>'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"numbersLabel"):i,n))+'</label>\n\t\t\t<label id="count_phones"></label>\n\t\t\t<span id="trigger_links" class="nav-bar">\n\t\t\t\t<a href="#" id="remove_numbers" class="action-number"><i class="fa fa-times monster-red"></i><span class="action-text">'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"remove"):i,n))+'</span></a>\n\n\t\t\t\t<li class="dropdown dropdown-move">\n\t\t\t\t\t<a href="#" id="move_numbers" role="button" class="action-number dropdown-toggle" data-toggle="dropdown"><i class="fa fa-share monster-orange"></i><span class="action-text">'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"move"):i,n))+'</span></a>\n\t\t\t\t\t<ul class="dropdown-menu">\n'+(null!=(i=d(e,"each").call(c,null!=n?d(n,"servers_list"):n,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.program(3,l,0),data:l,loc:{start:{line:31,column:6},end:{line:35,column:15}}}))?i:"")+"\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</span>\n"+(null!=(i=d(e,"unless").call(c,null!=n?d(n,"hideBuyNumbers"):n,{name:"unless",hash:{},fn:t.program(5,l,0),inverse:t.noop,data:l,loc:{start:{line:39,column:2},end:{line:50,column:13}}}))?i:"")+(null!=(i=d(e,"unless").call(c,null!=n?d(n,"hidePort"):n,{name:"unless",hash:{},fn:t.program(7,l,0),inverse:t.noop,data:l,loc:{start:{line:51,column:3},end:{line:53,column:14}}}))?i:"")+'\t\t\t<span class="search-box pull-right">\n\t\t\t\t<i class="fa fa-search"></i>\n\t\t\t\t<input type="text" class="search-query" placeholder="'+o(r(null!=(i=null!=n?d(n,"i18n"):n)?d(i,"search"):i,n))+'..."></input>\n\t\t\t</span>\n\t\t</form>\n\t</div>\n\n\t<div id="numbers_wrapper" class="numbers-wrapper">\n\t</div>\n\t<div id="search_results"></div>\n</div>\n'},useData:!0}),this.monster.cache.templates.pbxs._main.listNumbers=Handlebars.template({1:function(t,n,e,a,l){var i,s,r=null!=n?n:t.nullContext||{},o=t.hooks.helperMissing,c=t.escapeExpression,u=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="number-wrapper number-box" data-phone_number="'+c((s=null!=(s=u(e,"phoneNumber")||(null!=n?u(n,"phoneNumber"):n))?s:o,"function"==typeof s?s.call(r,{name:"phoneNumber",hash:{},data:l,loc:{start:{line:2,column:58},end:{line:2,column:75}}}):s))+'" data-search="'+c((s=null!=(s=u(e,"phoneNumber")||(null!=n?u(n,"phoneNumber"):n))?s:o,"function"==typeof s?s.call(r,{name:"phoneNumber",hash:{},data:l,loc:{start:{line:2,column:90},end:{line:2,column:105}}}):s))+" "+c((u(e,"formatPhoneNumber")||n&&u(n,"formatPhoneNumber")||o).call(r,null!=n?u(n,"phoneNumber"):n,{name:"formatPhoneNumber",hash:{},data:l,loc:{start:{line:2,column:106},end:{line:2,column:141}}}))+'">\n\t<input type="checkbox"></input>\n\t<span class="phone-number">'+(null!=(i=(u(e,"monsterNumberWrapper")||n&&u(n,"monsterNumberWrapper")||o).call(r,null!=n?u(n,"phoneNumber"):n,{name:"monsterNumberWrapper",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l,loc:{start:{line:4,column:28},end:{line:4,column:90}}}))?i:"")+'</span>\n\n\t<div class="number-options pull-right">\n\t\t\n\t</div>\n\n\t<div class="features pull-right">\n\t\t'+(null!=(i=(u(e,"numberFeatures")||n&&u(n,"numberFeatures")||o).call(r,null!=n?u(n,"features"):n,{name:"numberFeatures",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l,loc:{start:{line:11,column:2},end:{line:11,column:49}}}))?i:"")+"\n\t</div>\n</div>\n"},2:function(t,n,e,a,l){return""},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(i=s(e,"each").call(null!=n?n:t.nullContext||{},null!=n?s(n,"DIDs"):n,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?i:""},useData:!0}),this.monster.cache.templates.pbxs._main.noNumbers=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="no-number">\n\t'+t.escapeExpression(t.lambda(null!=(i=null!=n?s(n,"i18n"):n)?s(i,"no_number"):i,n))+"\n</div>\n"},useData:!0}),this.monster.cache.templates.pbxs._main.noResults=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="no-number">\n\t'+t.escapeExpression(t.lambda(null!=(i=null!=n?s(n,"i18n"):n)?s(i,"no_results"):i,n))+"\n</div>\n"},useData:!0}),this.monster.cache.templates.pbxs._main.pbxsListElement=Handlebars.template({1:function(t,n,e,a,l){var i=t.lambda,s=t.escapeExpression,r=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="pbx-wrapper" data-id="'+s(i(null!=n?r(n,"id"):n,n))+'">\n\t<div class="notif-phones"> '+s(i(null!=n?r(n,"count"):n,n))+' </div>\n\t<div class="img-wrapper"></div>\n\t<div class="pbx-name">'+s(i(null!=n?r(n,"name"):n,n))+"</div>\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(i=s(e,"each").call(null!=n?n:t.nullContext||{},null!=n?s(n,"numbers"):n,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l,loc:{start:{line:1,column:0},end:{line:7,column:9}}}))?i:""},useData:!0}),this.monster.cache.templates.pbxs._main.pbxsManager=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s=t.lambda,r=t.escapeExpression,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div id="pbxs_manager_view" class="main-content"></div>\n\n<div id="list_pbxs_navbar" class="navbar navbar-fixed-bottom blue">\n\t<div id="unassigned_numbers">\n\t\t<div id="unassigned_numbers_header">\n\t\t\t<i class="fa fa-th monster-white"></i>\n\t\t\t<span>'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"unassigned_numbers"):i,n))+'</span>\n\t\t\t<i class="fa fa-question-circle monster-white" data-toggle="tooltip" data-placement="top" data-original-title="'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"help_spare_numbers"):i,n))+'"></i>\n\n\t\t\t<i class="pull-right fa fa-chevron-up monster-white"></i>\n\t\t\t<i class="pull-right fa fa-chevron-down monster-white"></i>\n\t\t\t<span class="pull-right" id="unassigned_numbers_count"></span>\n\t\t</div>\n\n\t\t<div class="content">\n\t\t\t<div class="row-fluid">\n\t\t\t\t<span class="span12 search-box pull-right">\n\t\t\t\t\t<i class="fa fa-search"></i>\n\t\t\t\t\t<input type="text" placeholder="'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"search"):i,n))+'..." class="search-query">\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div id="unassigned_actions" class="row-fluid">\n\t\t\t\t<div class="span6 link-box assign">\n\t\t\t\t\t<div class="span12"><i class="fa fa-plus-circle"></i>'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"assign"):i,n))+'</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="span6 link-box delete">\n\t\t\t\t\t<div class="span12"><i class="fa fa-trash-o"></i>'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"delete"):i,n))+'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="unassigned_select_all" class="row-fluid">\n\t\t\t\t<div class="span12 text-center link-box">\n\t\t\t\t\t<i class="fa fa-check-square-o unassigned-select-all-icon"></i>\n\t\t\t\t\t<span class="unassigned-select-all-label">\n\t\t\t\t\t\t'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"select_all"):i,n))+'\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="unassigned_numbers_wrapper">\n\t\t\t</div>\n\n\t\t\t<div id="empty_search">\n\t\t\t\t'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"no_number_available"):i,n))+'\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div id="pbxs_manager_listpanel"></div>\n\n\t<div id="add_pbx" class="pbx-wrapper">\n\t\t<div class="img-wrapper">\n\t\t\t+\n\t\t</div>\n\t\t<div class="pbx-name">'+r(s(null!=(i=null!=n?o(n,"i18n"):n)?o(i,"add_pbx"):i,n))+"</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.pbxs._main.pbxsUnassignedNumbers=Handlebars.template({1:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t<div class="unassigned-number number-box" data-phone_number="'+t.escapeExpression(t.lambda(null!=n?s(n,"phoneNumber"):n,n))+'">\n\t\t<input type="checkbox"></input>\n\t\t<span class="phone-number">'+(null!=(i=(s(e,"monsterNumberWrapper")||n&&s(n,"monsterNumberWrapper")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?s(n,"phoneNumber"):n,{name:"monsterNumberWrapper",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l,loc:{start:{line:4,column:29},end:{line:4,column:96}}}))?i:"")+"</span>\n\t</div>\n"},2:function(t,n,e,a,l){return""},4:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t<div class="unassigned-number no-number">'+t.escapeExpression(t.lambda(null!=(i=null!=n?s(n,"i18n"):n)?s(i,"no_number_available"):i,n))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var i,s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(i=s(e,"each").call(null!=n?n:t.nullContext||{},null!=n?s(n,"unassignedNumbers"):n,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.program(4,l,0),data:l,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?i:""},useData:!0});